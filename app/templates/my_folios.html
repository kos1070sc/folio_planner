{%extends "user_layout.html"%}
{%block content%}
<div class = "page_heading">
    <h1>My Folios</h1>
</div>
<!-- flash messages -->
{% for catergory, message in get_flashed_messages(with_categories=true) %}
    <div class = "flash_{{ catergory }}">
        <p class = "message_{{ catergory }}">{{ message }}</p>
    </div>
{% endfor %}
<br>
<a href="http://127.0.0.1:5000/create_new" class = "link">
    <div class="create_new_button_container">
        <div class = "plus_container">
            <h3>âž•</h3>
        </div>
        <h3>Create New</h3>
    </div>
</a>
<br><br><br>
<!-- folios display area -->
<div class = "folios_area">
    {% if folio %}
        <div class="folio_grid">
            	{% for folio in folio%}
                    <a href="http://127.0.0.1:5000/edit_folio/{{folio.id}}" class = "link">
                    <div class = "folio_card">
                        <div class = 'folio_card_image_container'>
                            {% if folio.first_image %}
                                <img src="{{folio.first_image}}" alt="Folio Thumbnail" class = 'folio_card_image'>
                            {% else %}
                                <img src="/static/images/gradient 6.jpg" alt="Placeholder Image" class = 'folio_card_image'>
                            {% endif %}
                        </div>
                        <div class = "theme_container"><h3>ðŸŽ¨ {{ folio.theme }}</h3></div>
                        <form method = 'POST' onsubmit="return confirm('Are you sure you want to delete this folio?');">
                            <div class = "delete_folio_button_container">
                                {{ delete_form.hidden_tag() }}
                                <!-- hidden input that gets the folio id to delete it -->
                                <input type="hidden" name = "folio_id" value = "{{folio.id}}">
                                {{ delete_form.delete_folio(class="delete_folio_button") }}
                            </div>
                        </form>
                    </div>
                </a>
                {% endfor %}
        </div>
    {% else %}
    <div class="empty_message">
        <p>You don't have any folios yet</p>
    </div>
    {% endif %}
</div>

{%endblock%}